# Project Progress - 2026-02-11

## Current Status
- LLM: Ollama with `qwen3:14b` working; `adsapi/llm_interface.py` operational.
- ADS automation: `adsapi/` modules working for schematic generation, netlist, simulation, CSV extraction.
- Batch filter dataset generation: `adsapi/batch_filter_simulation.py` runs; dataset mode supports Chebyshev/Butterworth.
- Dataset cleanup: `dataset_cleanup.py` produces cleaned JSON/CSV with dedup + quality filters.
- LLM -> ADS loop: `llm_ads_loop.py` can ask for missing params, run ADS, and save JSON spec + result.

## Recent Fixes
- Fixed import errors for `adsapi` package and `MockLLMInterface`.
- Added global unique `design_id` for dataset mode: `ds_YYYYMMDD_<type>_<index>`.
- Added workspace recovery when `lib.defs` missing (recreate workspace).
- Added JSON output for LLM-ADS loop: `llm_ads_outputs/spec_*.json` and `result_*.json`.

## Known Issues
- Dataset cleanup yields ~100 usable samples due to strict quality filters and duplicate specs.
- Repetition likely caused by coarse grids + rounding of L/C values.

## Next Steps
1) Regenerate dataset with updated global IDs (dataset mode).
2) Relax cleanup thresholds if too many samples are filtered.
3) Increase random spec count and widen ranges if duplicates persist.
4) Build JSONL for SFT from cleaned dataset.

## Key Commands
- Batch dataset:
  - `python G:\wenlong\llmrf\adsapi\batch_filter_simulation.py --mode dataset --filter-type chebyshev`
- Cleanup:
  - `python G:\wenlong\llmrf\dataset_cleanup.py`
- LLM -> ADS loop:
  - `python G:\wenlong\llmrf\llm_ads_loop.py`
